钉钉小程序

## 第三方企业应用
[文档地址](https://open.dingtalk.com/document/isvapp/before-you-start)

### 添加

| 应用分发方式                                          | 使用场景                             | 部署要求                                                                       |
| ----------------------------------------------------- | ------------------------------------ | ------------------------------------------------------------------------------ |
| 开发者后台定向定量分发 不上架，不上广场               | 线下项目限定范围批量安装             | 顶组织给子组织批量安装                                                         |
| 计算巢钉钉广场展示，管理员在应用广场开通 上架，上广场 | 上架到钉钉应用广场，可被钉钉用户搜索 | 聚石塔 + 通讯录加密。 阿里云 + 计算巢+ 通讯录加密阿里云 + 计算巢+ 数据安全中心 |
| 二维码线下开通                                        | 上架，不上广场自有渠道线下拓客       | 阿里云 + 计算巢                                                                |

### 开发流程

1. 调用服务端接口，进行业务集成。例如调用审批接口，自定义审批流。更多信息请参考如何调用服务端API。

> 第三方企业应用需要调用获取第三方应用授权企业的accessToken接口进行授权。
> 注册回调。

2. 第三方企业应用必须要注册回调，接收企业授权开通应用事件，用于通知应用哪个组织开通了本应用，第三方应用后台收到此事件后，需要初始化企业信息，完成应用的开通。

3. 推荐使用RDS和HTTPSync推送方式，该方式的应用授权流程更简单。详情请参考回调事件概述。

> 授权应用开通

4. 钉钉应用广场中的第三方企业应用，企业管理员可以授权开通。授权开通过程中需要接收企业开通的回调事件，钉钉支持不同的回调推送方式。回调方式不同，应用开通的流程也不同。详情请参考授权应用开通。

5. 第三方企业应用必须接入钉钉免登、通讯录和工作通知能力。详情请参考接入服务端能力。

> 前端开发。

6. 开发是H5微应用，需要进行JSAPI鉴权。详情请参考H5微应用-JSAPI总览。

1. 在使用钉钉开放平台的能力开发应用前，请注意：

- 调用钉钉服务端接口时，需使用HTTPS协议、JSON数据格式、UTF-8编码，POST请求请在HTTP Header中设置 Content-Type:application/json。

   - 访问域名为：

  > 新版服务端接口：https://api.dingtalk.com。
  >
  > 旧版服务端接口：https://oapi.dingtalk.com。
  >
  >> 说明
  >>旧版服务端接口支持正常调用。
  >>在调用服务端接口前，确保你已了解调用频率限制。详情请参考调用频率限制。

2. 在调用服务端接口前，确保你已经设置了对应的接口权限。详情请参考添加接口调用权限。

3. 无论是哪种应用，都必须接入钉钉免登，即在用户打开应用时可直接获取用户身份无需输入钉钉账号和密码。详情请参考第三方企业应用免登。

4.如果开发的是小程序应用，确保你已经在开放平台配置了小程序HTTP域名和开发人员。详情请参考人员管理。

5. 如果开发的是H5微应用，需要进行JSAPI鉴权。详情请参考H5微应用-JSAPI总览。

6. 配置回调事件。钉钉会向应用推送订阅的事件，例如部门变更、授权开通等。通过订阅这些事件，开发者可以更好地与钉钉集成。详情请参考事件订阅概述。